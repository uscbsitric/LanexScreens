<!DOCTYPE html>
<!-- saved from url=(0043)http://getbootstrap.com/examples/dashboard/ -->
<html lang="en">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
        <meta name="description" content="">
        <meta name="author" content="">
        <link rel="icon" href="http://getbootstrap.com/favicon.ico">

        <title>Dashboard Template for Bootstrap</title>
		
		<style>
		</style>

        <!-- Bootstrap core CSS -->
        <link href="./TicketManagement_files/bootstrap.min.css" rel="stylesheet">

        <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
        <link href="./TicketManagement_files/ie10-viewport-bug-workaround.css" rel="stylesheet">

        <!-- Custom styles for this template -->
        <link href="./TicketManagement_files/dashboard.css" rel="stylesheet">

        <!-- Just for debugging purposes. Don't actually copy these 2 lines! -->
        <!--[if lt IE 9]><script src="../../assets/js/ie8-responsive-file-warning.js"></script><![endif]-->
        <script src="./TicketManagement_files/ie-emulation-modes-warning.js"></script>

        <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
          <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
          <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
        <![endif]-->
  </head>

  <body>

    <nav class="navbar navbar-inverse navbar-fixed-top">
      <div class="container-fluid">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="http://getbootstrap.com/examples/dashboard/#">給付券情報</a>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
          <ul class="nav navbar-nav navbar-right navbarFontColor">
            <li>ログインユーザ：</li>
            <li style="display: block;">XXXXXXXXXXXXXXXXXXX</li> <br>
            <li> <button type="button" class="btn btn-default mainNavButton">Top</button> </li>
            <li> <button type="button" class="btn btn-default mainNavButton">Logout</button> </li>
          </ul>
        </div>
      </div>
    </nav>

    <div class="container-fluid">
      <div class="row">
        <hr class="hrOveride"></hr>
        <div class="panel panel-default panel-primary mainCustomerInformation">
          <div class="panel-heading">
            <h3 class="panel-title">Main Customer Information</h3>
          </div>
          <div class="panel-body">
            <table class="table table-condensed table-responsive mainCustomerInformationTable">
                <tr>
                    <td>CustomerID</td>
                    <td id="customerID">123456</td>
                    <td>Personal Card Number</td>
                    <td id="personalCardNumber">0123456</td>
                    <td>Last Order Date</td>
                    <td id="lastOrderDate">2015/11/01</td>
                    <td>Registration Date</td>
                    <td class="text-right" id="registrationDate">2015/11/01</td>
                </tr>
                <tr>
                    <td>Customer Name</td>
                    <td id="customerName">XXXXXXXXXXXX</td>
                    <td>Phonetic</td>
                    <td id="phonetic">XXXXXXXXXXXXXX</td>
                    <td>Telephone Number1</td>
                    <td id="telephoneNumber1">999-999-9999</td>
                </tr>
                <tr>
                    <td>Postal Code</td>
                    <td id="postalCode">999-9999</td>
                    <td>Street Address</td>
                    <td colspan="5" id="streetAddress">京都府京都市上京区智恵光院通り芦山寺上る西入る西社町</td>
                </tr>
                <tr>
                    <td>Municipality</td>
                    <td id="municipality">01:青葉区</td>
                </tr>
                <tr>
                    <td>Municipality postal code</td>
                    <td id="municipalityPostalCode">999-9999</td>
                    <td>Municipality address</td>
                    <td id="municipalityAddress" colspan="5">Sendai, Miyagi Prefecture, Aoba-ku</td>
                </tr>
                <tr>
                    <td>Municipality Phone Number</td>
                    <td id="municipalityPhoneNumber">999-999-9999</td>
                    <td>Local Government Personnel</td>
                    <td colspan="4" id="localGovernmentPersonel">XXXXXXXXXXXX</td>
                    <td>
                        <button type="button"
								class="btn btn-primary btn-xs goToNextScreenButton"
								id="editCustomerInformation">Edit Customer Information
						</button>
                    </td>
                </tr>
            </table>
          </div>
        </div> <!-- END OF mainCustomerInformation -->
      </div> <!-- END OF .row MAIN CUSTOMER INFORMATION PANEL -->

      <div class="row">
          <div class="panel panel-default panel-primary benifitTicketInformationList" id="benifitTicketInformationList">
              <div class="panel-heading">
                  <div class="panel-title">Benifit Ticket Information List</div>
              </div>
              <div class="panel-body">
                  <table class="table table-bordered table-condensed table-responsive table-hover benifitTicketInformationListTable">
                      <tr>
                          <th>名称</th>
                          <th>基準額</th>
                          <th>給付額</th>
                          <th>公費負担額</th>
                          <th>自己負担額</th>
                          <th>公費負担残高</th>
                          <th>自己負担残高</th>
                          <th>送付日</th>
                          <th>返却日</th>
                          <th>請求日</th>
                          <th>入金日</th>
                      </tr>
                  </table>
              </div>
          </div> <!-- END OF benifitTicketInformationList -->
          <div class="row benifitTicketInformationListButtons">
              <button type="button" class="btn btn-success btn-xs pull-right" id="addTicket">Add Ticket</button>
              <button type="button" class="btn btn-danger btn-xs pull-right" id="updateTicket">Update Ticket</button>
          </div> <!-- END OF benifitTicketInformationListButtons -->
      </div> <!-- END OF .row BENIFIT TICKET INFORMATION LIST TABLE -->

      <div class="row">
          <div class="panel panel-default panel-primary benifitTicketInformation" id="benifitTicketInformation">
              <div class="panel-heading">
                    <div class="panel-title">Benifit Ticket Information</div>
              </div>
              <div class="panel-body">
                   <form class="form-inline" id="benifitTicketInformationForm">
					    <input type="hidden" value="add" id="addOrUpdateToggle">
				   		<div class="row">
							<div class="form-group col-md-2">
                        		<label for="ticketNumber">Ticket Number</label>
                        		<input type="text" class="form-control" id="ticketNumber" name="ticketNumber">
                      		</div>
                      		<div class="form-group col-md-2">
                        		<label for="ticketName">Ticket Name</label>
								<input type="text" class="form-control" id="ticketName" name="ticketName" disabled> <!-- placeholder="4-5月券" --> 
							</div>
							<div class="form-group col-md-2">
								<label for="ticketStartMonth">Ticket Start Month</label>
								<select class="form-control" name="ticketStartMonth" id="ticketStartMonth">
								  <option value="1">1月</option>
								  <option value="2">2月</option>
								  <option value="3">3月</option>
								  <option value="4">4月</option>
								  <option value="5">5月</option>
								  <option value="6">6月</option>
								  <option value="7">7月</option>
								  <option value="8">8月</option>
								  <option value="9">9月</option>
								  <option value="10">10月</option>
								  <option value="11">11月</option>
								  <option value="12">12月</option>
								</select>
							</div>
							<div class="form-group col-md-2">
								<label for="ticketStartMonth">Ticket End Month</label>
								<select class="form-control" name="ticketEndMonth" id="ticketEndMonth">
								  <option value="1">1月</option>
								  <option value="2">2月</option>
								  <option value="3">3月</option>
								  <option value="4">4月</option>
								  <option value="5">5月</option>
								  <option value="6">6月</option>
								  <option value="7">7月</option>
								  <option value="8">8月</option>
								  <option value="9">9月</option>
								  <option value="10">10月</option>
								  <option value="11">11月</option>
								  <option value="12">12月</option>
								</select>
							</div>
						 	<div class="form-group col-md-4">
							  <label for="ticketState">Ticket State</label>
							  <select class="form-control" name="ticketState" id="ticketState">
								  <option value="0">申請中</option>
								  <option value="1">使用中</option>
								  <option value="2">差し替え</option>
								  <option value="9">使用済み ※請求したタイミングで使用済みとする</option>
							  </select>
						  	</div>
					    </div> <!-- END OF first row of form elements -->

					    <div class="row">
						  <div class="form-group col-md-2">
							  <label for="benifitCategory">Benifit Category</label>
							  <input type="radio" name="benifitCategory" id="colostomy" value="0" checked="checked">コロストミー
						  </div>
						  <div class="form-group col-md-10">
							  <input type="radio" name="benifitCategory" id="urostomy" value="1">ウロストミー
						  </div>
					    </div> <!-- END OF second row of form elements -->

					   	<div class="row">
							  <div class="form-group col-md-3">
								  <label for="ticketMakeDate">Ticket Make Date</label>
								  <input type="date" class="form-control" name="ticketMakeDate" id="ticketMakeDate">
							  </div>
							  <div class="form-group col-md-4">
								  <label for="ticketSendDateToCustomer">Ticket Send Date To Customer</label>
								  <input type="date" class="form-control" name="ticketSendDateToCustomer" id="ticketSendDateToCustomer">
							  </div>
							  <div class="form-group col-md-5">
								  <label for="ticketReturnDateFromCustomer">Ticket Return Date From Customer</label>
								  <input type="date" class="form-control" name="ticketReturnDateFromCustomer" id="ticketReturnDateFromCustomer">
							  </div>
					    </div> <!-- END OF third row of form elements -->
					   
					    <div class="row">
							  <div class="form-group col-md-3">
								  <label for="ticketBaseAmount">Ticket Base Amount</label>
								  <input type="number" class="form-control" name="ticketBaseAmount" id="ticketBaseAmount">
							  </div>
							  <div class="form-group col-md-3">
								  <label for="benifitAmount">Benifit Amount</label>
								  <input type="number" class="form-control" name="benifitAmount" id="benifitAmount">
							  </div>
							  <div class="form-group col-md-3">
								  <label for="amountFromGov">Amount From Government</label>
								  <input type="number" class="form-control" name="amountFromGov" id="amountFromGov">
							  </div>
							  <div class="form-group col-md-3">
								  <label for="customerAmount">Customer Amount</label>
								  <input type="number" class="form-control" name="customerAmount" id="customerAmount">
							  </div>
					    </div> <!-- END OF fourth row of form elements -->
					   
					    <div class="row">
							  <div class="form-group col-md-12">
								   <label for="originalBenifitAmountReplacement">Original Benifit Amount Replacement</label>
								   <input type="text" class="form-control" name="originalBenifitAmountReplacement" 
										  id="originalBenifitAmountReplacement" placeholder="99999999" disabled>
							  </div>
					    </div>
                   </form>
              </div>
          </div> <!-- END OF .benifitTicketInformation -->
      </div> <!-- END OF .row BENIFIT TICKET INFORMATION -->

      <div class="row">
		  <div class="panel panel-default panel-primary ticketBillingInformation">
			  <div class="panel-heading">
				  <div class="panel-title">Ticket Billing Information</div>
			  </div>
			  <div class="panel-body">
					  <form class="form-inline">
						  <div class="row">
							  <div class="form-group col-md-4">
								  <label for="ticketBillingTimeLimitDate">Ticket Billing Time Limit Date</label>
								  <input type="date" class="form-control" name="ticketBillingTimeLimitDate" id="ticketBillingTimeLimitDate">
							  </div>
							  <div class="form-group col-md-4">
								  <label for="ticketBillingDate">Ticket Billing Date</label>
								  <input type="date" class="form-control" name="ticketBillingDate" id="ticketBillingDate">
							  </div>
							  <div class="form-group col-md-4">
								  <label for="ticketBillingAmount">Ticket Billing Amount</label>
								  <input type="number" class="form-control" name="ticketBillingAmount" id="ticketBillingAmount">
							  </div>
						  </div> <!-- END OF first row of form elements -->
					  </form>
			  </div>
		  </div> <!-- END OF .ticketBillingInformation -->
	  </div> <!-- END OF .row TICKET BILLING INFORMATION -->
	  
	  <div class="row">
		  <div class="panel panel-default panel-primary paymentInformation">
			  <div class="panel-heading">
				  <div class="panel-title">Payment Information</div>
			  </div>
			  <div class="panel-body">
				  <form class="form-inline">
					  <div class="row">
						  <div class="form-group col-md-3">
							  <label for="depositDate">Deposit Date</label>
						  	  <input type="date" class="form-control" name="depositDate" id="depositDate">
						  </div>
						  <div class="form-group col-md-9">
							  <label for="depositAmount">Deposit Amount</label>
							  <input type="number" class="form-control" name="depositAmount" id="depositAmount">
						  </div>
					  </div>
				  </form>
			  </div>
		  </div> <!-- END OF .paymentInformation -->
		  <div class="row paymentInformationButtons">
			  <button type="button" class="btn btn-success btn-xs pull-right" id="submitBenifitTicketInformation" disabled>Submit</button>
		  </div> <!-- END OF benifitTicketInformationListButtons -->
	  </div> <!-- END OF .row PAYMENT INFORMATION -->
	  
	  <div class="row">
		  <div class="panel panel-default panel-primary ticketsUsedInformationList">
			  <div class="panel-heading">
				  <div class="panel-title">Tickets Used Information</div>
			  </div>
			  <div class="panel-body">
				  <table class="table table-bordered table-condensed table-responsive table-hover ticketsUsedInformationListTable">
					  <tr>
						  <th>No</th>
						  <th>受注番号</th>
						  <th>受注日</th>
						  <th>支払い方法</th>
						  <th>清算方法</th>
						  <th>納品日</th>
						  <th>公費負担額</th>
						  <th>発送済み</th>
					  </tr>
				  </table>
			  </div>
		  </div> <!-- END OF ticketsUsedInformation -->
		  <div class="row ticketsUsedInformationButtons">
			  <button type="button" class="btn btn-warning 
					  btn-xs pull-right" id="goToExcelExportScreen" name="goToExcelExportScreen">Go to Excel Export Screen</button>
		  </div> <!-- END OF ticketsUsedInformationButtons -->
		  <hr class="hrOveride"></hr>
	  </div> <!-- END OF.row TICKETS USED INFORMATION -->
	  
    </div> <!-- END OF .container-fluid -->

    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="./TicketManagement_files/jquery.min.js"></script>
	<script type="text/javascript" src="TicketManagement_files/jquery-ui-1.11.4/jquery-ui.js"></script>
    <script>window.jQuery || document.write('<script src="../../assets/js/vendor/jquery.min.js"><\/script>')</script>
    <script src="./TicketManagement_files/bootstrap.min.js"></script>
    <!-- Just to make our placeholder images work. Don't actually copy the next line! -->
    <script src="./TicketManagement_files/holder.min.js"></script>
    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <script src="./TicketManagement_files/ie10-viewport-bug-workaround.js"></script>
  
	<!-- Custom Javascripts by SANDALO, Frederick -->
	<script type="text/javascript">
		$( window ).load(function()
		{			
			/////////////////////////////////////////////////////////////
			// MAIN CUSTOMER INFORMATION PANEL
			$.post("server.php",
				   {"userID" : 12345,
					"module" : "customerInformation"
				   })
			 .done(function(data, textStatus, jqXHR)
			 {
				$("#customerID").text(data["customerID"]);
				$("#personalCardNumber").text(data["personalCardNumber"]);
				$("#lastOrderDate").text(data["lastOrderDate"]);
				$("#registrationDate").text(data["registrationDate"]);
				$("#customerName").text(data["customerName"]);
				$("#phonetic").text(data["phonetic"]);
				$("#telephoneNumber1").text(data["telephoneNumber1"]);
				$("#postalCode").text(data["postalCode"]);
				$("#streetAddress").text(data["streetAddress"]);
				$("#municipality").text(data["municipality"]);
				$("#municipalityPostalCode").text(data["municipalityPostalCode"]);
				$("#municipalityAddress").text(data["municipalityAddress"]);
				$("#municipalityPhoneNumber").text(data["municipalityPhoneNumber"]);
				$("#localGovernmentPersonel").text(data["localGovernmentPersonel"]);

			 });
			
			 $("#editCustomerInformation").click(function()
			 {
				 window.location.href = "http://localhost:81/LANEX/TicketManagement.html?customerID=" + $("#customerID").text();
			 }
			 );
			// MAIN CUSTOMER INFORMATION PANEL
			/////////////////////////////////////////////////////////////
			
			/////////////////////////////////////////////////////////////
			// BENIFIT TICKET INFORMATION LIST
			$('.benifitTicketInformationListTable').bind('DOMNodeInserted', function(e) 
			{
				var element = e.target;
				setTimeout(function() 
				{
					$(element).click(function()
					{
						var rowID = $(element).attr("id");
						$.post("server.php",
							   {"ticketID": rowID,
							    "module" : "specificTicketInformation"
							   })
						.done(function(data, textStatus, jqXHR)
						{
							$("#ticketNumber").val(data['ticketID']);
							$("#ticketName").val( data['ticketStartMonth'] +"-"+ data['ticketEndMonth'] + "月分" );

							$("#ticketStartMonth option:selected").val(data['ticketStartMonth']);
							
							$("#ticketEndMonth").val(data['ticketEndMonth']);

							$('#ticketState option:selected').attr("selected",null);
							$('#ticketState option[value='+data['ticketState']+']').attr("selected","selected");

							$('input[name=benifitCategory]').prop("checked", false);
							
							if(data['benifitCategory'] == "0")
							{
								$("#colostomy").prop("checked", true);
							}
							else
							{
								$("#urostomy").prop("checked", true);
							}

							$("#ticketMakeDate").val(data['benifitTicketMakeDate']);
							$("#ticketSendDateToCustomer").val(data['benifitTicketSendDate']);
							$("#ticketReturnDateFromCustomer").val(data['benifitTicketReturnDateFromCustomer']);
							$("#ticketBaseAmount").val(data['baseAmount']);
							$("#benifitAmount").val(data['benifitAmount']);
							$("#amountFromGov").val(data['amountFromGovernment']);
							$("#customerAmount").val(data['customerAmount']);
							$("#originalBenifitAmountReplacement").val(data['OriginalBenifitAmountReplacement']);
							$("#ticketBillingTimeLimitDate").val(data['ticketBillingTimeLimitDate']);
							$("#ticketBillingDate").val(data['billingDate']);
							$("#ticketBillingAmount").val(data['ticketBillingAmount']);
							$("#depositDate").val(data['depositDate']);
							$("#depositAmount").val(data['depositAmount']);

							$("#addOrUpdateToggle").val("update");
							$("#submitBenifitTicketInformation").prop('disabled', false)
						})
						.fail(function(data, textStatus, jqXHR)
						{
							alert('Getting Ticket ID Failed');
						});
					}
					);
				}, 1000);
			});
			
			$.post("server.php",
				   {"userID": 12345,
					"module": "benifitTicketsList"
				   }
				  )
			.done(function(data, textStatus, jqXHR)
			{
				for(counter = 0; counter < data.length; counter++)
				{
					$(".benifitTicketInformationListTable").append("<tr class='benifitTicketInformationListItem' id="+data[counter]['ticketID']+"><td>"+data[counter]['ticketName']+"</td> <td>"+data[counter]['baseAmount']+"</td> <td>"+data[counter]['benifitAmount']+"</td> <td>"+data[counter]['amountFromGovernment']+"</td> <td>"+data[counter]['customerAmount']+"</td> <td>"+data[counter]['differenceAmount']+"</td> <td>"+data[counter]['customerTotalAmount']+"</td> <td>"+data[counter]['benifitTicketSendDate']+"</td> <td>"+data[counter]['benifitTicketReturnDateFromCustomer']+"</td> <td>"+data[counter]['billingDate']+"</td> <td>"+data[counter]['billingDate']+"</td> </tr>");
				}
			})
			.fail(function(data, textStatus, jqXHR)
			{
				alert("Request to BENIFIT TICKET INFORMATION LIST failed");
			});

			$("#updateTicket").click(function()
			{
				$('html, body').animate({scrollTop: $("#benifitTicketInformation").offset().top - 60}, 1000);
				
			});

			$("#addTicket").click(function()
			{
				$('html, body').animate({scrollTop: $("#benifitTicketInformation").offset().top - 60}, 1000);
				$("#benifitTicketInformationForm")[0].reset();
				$("#submitBenifitTicketInformation").prop('disabled', false)
			});
			
			$("#submitBenifitTicketInformation").click(function()
			{
				var debugVar = "debug value";

				if("add" == $("#addOrUpdateToggle").val())
				{
					$.post("server.php",
						   {"module": "benifitTicketInformation",
							"userID":12345,
							"operation":"add",
							"ticketNumber":$("#ticketNumber").val(),
							"ticketName":$("#ticketName").val(),
							"ticketStartMonth":$("#ticketStartMonth").val(),
							"ticketEndMonth":$("#ticketEndMonth").val(),
							"ticketState":$("#ticketState").val(),
							"benifitCategory":$("#benifitCategory").val(),
							"ticketMakeDate":$("#ticketMakeDate").val(),
							"ticketSendDateToCustomer":$("#ticketSendDateToCustomer").val(),
							"ticketReturnDateFromCustomer":$("#ticketReturnDateFromCustomer").val(),
							"ticketBaseAmount":$("#ticketBaseAmount").val(),
							"benifitAmount":$("#benifitAmount").val(),
							"amountFromGov":$("#amountFromGov").val(),
							"customerAmount":$("#customerAmount").val(),
							"originalBenifitAmountReplacement":$("#originalBenifitAmountReplacement").val(),
							"ticketBillingTimeLimitDate":$("#ticketBillingTimeLimitDate").val(),
							"ticketBillingDate":$("#ticketBillingDate").val(),
							"ticketBillingAmount":$("#ticketBillingAmount").val(),
							"depositDate":$("#depositDate").val(),
							"depositAmount":$("#depositAmount").val(),
							"differenceAmount": 0,   //INVESTIGATE WITH KAINOMA SAN HOW TO GET THIS VALUE
							"customerTotalAmount": 0 //INVESTIGATE WITH KAINOMA SAN HOW TO GET THIS VALUE
						   })
					.done(function(data, textStatus, jqXHR)
					{
						$("#submitBenifitTicketInformation").prop('disabled', true)

						var newTicket = $("<tr id="+data['ticketNumber']+"><td>"+data['ticketStartMonth']+"-"+data['ticketEndMonth']+"月分</td> <td>"+data['ticketBaseAmount']+"</td> <td>"+data['benifitAmount']+"</td> <td>"+data['amountFromGov']+"</td> <td>"+data['customerAmount']+"</td> <td>"+data['differenceAmount']+"</td> <td>"+data['customerTotalAmount']+"</td> <td>"+data['ticketSendDateToCustomer']+"</td> <td>"+data['ticketReturnDateFromCustomer']+"</td> <td>"+data['ticketBillingDate']+"</td> <td>"+data['depositDate']+"</td> </tr>");
						$(".benifitTicketInformationListTable tr:first-child").after(newTicket);
						$("#benifitTicketInformationForm")[0].reset();
						$("#submitBenifitTicketInformation").prop('disabled', true);
						$('html, body').animate({scrollTop: $("#benifitTicketInformationList").offset().top - 60}, 1000);
						$(".benifitTicketInformationListTable").effect("highlight", {color: "#449d44"}, 7000);
					})
					.fail(function(data, textStatus, jqXHR)
					{

					});
				}
				else
				{
					$.post("server.php",
						   {"module":"benifitTicketInformation",
							"userID":12345,
							"operation":"update",
							"ticketNumber":$("#ticketNumber").val(),
							"ticketName":$("#ticketName").val(),
							"ticketStartMonth":$("#ticketStartMonth").val(),
							"ticketEndMonth":$("#ticketEndMonth").val(),
							"ticketState":$("#ticketState").val(),
							"benifitCategory":$("#benifitCategory").val(),
							"ticketMakeDate":$("#ticketMakeDate").val(),
							"ticketSendDateToCustomer":$("#ticketSendDateToCustomer").val(),
							"ticketReturnDateFromCustomer":$("#ticketReturnDateFromCustomer").val(),
							"ticketBaseAmount":$("#ticketBaseAmount").val(),
							"benifitAmount":$("#benifitAmount").val(),
							"amountFromGov":$("#amountFromGov").val(),
							"customerAmount":$("#customerAmount").val(),
							"originalBenifitAmountReplacement":$("#originalBenifitAmountReplacement").val(),
							"ticketBillingTimeLimitDate":$("#ticketBillingTimeLimitDate").val(),
							"ticketBillingDate":$("#ticketBillingDate").val(),
							"ticketBillingAmount":$("#ticketBillingAmount").val(),
							"depositDate":$("#depositDate").val(),
							"depositAmount":$("#depositAmount").val(),
							"differenceAmount": 0,   //INVESTIGATE WITH KAINOMA SAN HOW TO GET THIS VALUE
							"customerTotalAmount": 0 //INVESTIGATE WITH KAINOMA SAN HOW TO GET THIS VALUE
						   })
					 .done(function(data, textStatus, jqXHR)
					 {
						// get the row
						$("#" + data['ticketNumber']).children('td').eq(0).text( data['ticketStartMonth'] +'-'+ data['ticketEndMonth'] + '月分' );
						$("#" + data['ticketNumber']).children('td').eq(1).text( data['baseAmount'] );
						$("#" + data['ticketNumber']).children('td').eq(2).text( data['benifitAmount'] );
						$("#" + data['ticketNumber']).children('td').eq(3).text( data['amountFromGovernment'] );
						$("#" + data['ticketNumber']).children('td').eq(4).text( data['customerAmount'] );
						$("#" + data['ticketNumber']).children('td').eq(5).text( data['differenceAmount'] );
						$("#" + data['ticketNumber']).children('td').eq(6).text( data['customerTotalAmount'] );
						$("#" + data['ticketNumber']).children('td').eq(7).text( data['benifitTicketSendDate'] );
						$("#" + data['ticketNumber']).children('td').eq(8).text( data['benifitTicketReturnDateFromCustomer'] );
						$("#" + data['ticketNumber']).children('td').eq(9).text( data['ticketBillingDate'] );
						$("#" + data['ticketNumber']).children('td').eq(10).text( data['depositDate'] );
						
						// update the row items
						
						$("#benifitTicketInformationForm")[0].reset();
						$("#submitBenifitTicketInformation").prop('disabled', true);
						$('html, body').animate({scrollTop: $("#benifitTicketInformationList").offset().top - 60}, 1000);
						$("#addOrUpdateToggle").val("add");
					 })
					 .fail(function(data, textStatus, jqXHR)
					 {
						var debugVar = "debug value";
					 });
				}
			});
			// BENIFIT TICKET INFORMATION LIST
			/////////////////////////////////////////////////////////////
			
			/////////////////////////////////////////////////////////////
			// TICKETS USED INFORMATION
			$.post("server.php",
				   {"userID" : 12345,
					"module" : "ticketsUsedInformation"
				   }
				  )
			.done(function(data, textStatus, jqXHR)
			{
				for( counter = 0; counter < data.length; counter++)
				{
					$(".ticketsUsedInformationListTable").append("<tr><td>"+counter+"</td> <td>"+data[counter]["orderID"]+"</td><td>"+data[counter]["orderDate"]+"</td> <td>"+data[counter]["paymentType"]+"</td> <td>"+data[counter]["balanceType"]+"</td><td>"+data[counter]["deliveryDate"]+"</td> <td>"+data[counter]["amountFromGovernment"]+"</td> <td>"+data[counter]["productSend"]+"</td> </tr>");
				}
			}
		   	)
			.fail(function(data, textStatus, jqXHR)
			{
				alert("Request to TICKETS USED INFORMATION failed");
			}
			);
			
			$("#goToExcelExportScreen").click(function()
			{
			 //alert( $("#customerID").text() );
				window.location.href = "http://localhost:81/LANEX/TicketManagement.html?customerID=" + $("#customerID").text() + "&module=ExcelExportScreen";
			});
			// TICKETS USED INFORMATION
			/////////////////////////////////////////////////////////////
		});
    </script>

</body>
</html>